<style>
  html,
  body {
    padding: 0;
    margin: 0;
  }
  #preview {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
</style>
<div id="preview"></div>
<script>
  function parseQuery(queryString) {
    var query = {};
    var pairs = (queryString[0] === "?"
      ? queryString.substr(1)
      : queryString
    ).split("&");
    for (var i = 0; i < pairs.length; i++) {
      var pair = pairs[i].split("=");
      query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || "");
    }
    return query;
  }
  const urlParams = new URLSearchParams(window.location.search);
  let palette = urlParams.get("palette").split(",");
  let angle = urlParams.get("angle");
  let direction = urlParams.get("direction");

  let background;
  if (direction === "custom_angle") {
    background = `linear-gradient(${angle}deg, ${palette[0]}, ${palette[1]})`;
  } else {
    background = `linear-gradient(to ${direction}, ${palette[0]}, ${
      palette[1]
    })`;
  }
  var preview = document.getElementById("preview");
  preview.style.background = background;
</script>
